CFLAGS = -std=c11 -Wall -Wextra -Werror 
CPPFLAGS = -I../include/
LDFLAGS = -lm
CC = gcc

all : AES

AES : AES.o parser.o cipher.o keyexp.o tools.o modes.o
	$(CC) $(CFLAGS)  -o AES AES.o parser.o cipher.o keyexp.o tools.o modes.o

AES.o : AES.c
	$(CC) $(CFLAGS) $(CPPFLAGS)  -c AES.c

parser.o : parser.c 
	$(CC) $(CFLAGS) $(CPPFLAGS)  -c parser.c

cipher.o : cipher.c
	$(CC) $(CFLAGS) $(CPPFLAGS)  -c cipher.c

keyexp.o : keyexp.c 
	$(CC) $(CFLAGS) $(CPPFLAGS)  -c keyexp.c

tools.o : tools.c
	$(CC) $(CFLAGS) $(CPPFLAGS)  -c tools.c

modes.o : modes.c
	$(CC) $(CFLAGS) $(CPPFLAGS)  -c modes.c


clean : 
	@rm -f *.o AES

help :
	@echo "Usage :"
	@echo ""
	@echo "make all or make : Generate the AES binary file from the source files"
	@echo "make clean : Remove all temporary files and binary files generated by the compilation"
	@echo "make help : Display this help"

.PHONY : all clean help